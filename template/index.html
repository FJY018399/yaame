<!--
 * @Author: Se7enElk
 * @Date: 2021-12-30 14:07:10
 * @LastEditors: Please set LastEditors
 * @LastEditTime: 2024-08-23 16:17:49
 * @FilePath: /yaame-h5/template/index.html
 * @Description:
-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover"
    />
    <meta name="format-detection" content="telephone=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="Cache-Control" content="no-cache, must-revalidate" />
    <meta http-equiv="expires" content="0" />
    <meta name="referrer" content="never" />
    <!-- todo：预解析域名修改 -->
    <link rel="dns-prefetch" href="//yaame.yaame.net/" />
    <link rel="dns-prefetch" href="//static.etouch.cn/" />
    <!-- <link rel="dns-prefetch" href="//log-dmp.suishenyun.cn/" /> -->
    <style>
      body {
        padding-bottom: constant(safe-area-inset-bottom);
        padding-bottom: env(safe-area-inset-bottom);
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        /* background: #0D0A1C; */
      }

      a:focus,
      input:focus,
      p:focus,
      div:focus {
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-user-modify: read-write-plaintext-only;
      }

      html,
      body {
        min-height: 100%;
      }

      #__vconsole {
        position: relative;
        z-index: 100000;
      }

      .modal_open {
        position: fixed;
        height: 100%;
      }
    </style>
    <!-- <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?14448c198657d61fbb6c3dcae518caea";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script> -->
  </head>

  <body>
    <script src="https://static.guance.com/browser-sdk/v3/dataflux-rum.js" type="text/javascript"></script>
    <script>
        window.DATAFLUX_RUM &&
            window.DATAFLUX_RUM.init({
                applicationId: 'yaame_h5',
                datakitOrigin: 'https://datakit.wekoi.co/', // 协议（包括：//），域名（或IP地址）[和端口号]
                env: /(localhost|192\.168|test|console)/.test(location.href) ? 'test' : 'prod',
                version: '1.0.0',
                service: 'browser',
                sessionSampleRate: 100,
                sessionReplaySampleRate: 70,
                trackInteractions: true,
                traceType: 'ddtrace', // 非必填，默认为ddtrace，目前支持 ddtrace、zipkin、skywalking_v3、jaeger、zipkin_single_header、w3c_traceparent 6种类型
                allowedTracingOrigins: [],  // 非必填，允许注入trace采集器所需header头部的所有请求列表。可以是请求的origin，也可以是是正则
            })
            var user_agent = navigator.userAgent.toLocaleLowerCase();
            var getUidForUser = () => {
                let uidMatch = user_agent.match(/;uid=([^;]*)/);
                if (uidMatch && uidMatch.length > 1) {
                    let uid = uidMatch[1];
                    return uid;
                } else {
                    return false
                }
            }
            var id = getUidForUser();
            window.DATAFLUX_RUM && window.DATAFLUX_RUM.setUser({
                id: id,
            });
    </script>

    <!--通用px单位解决方案-->
    <script>
      !(function (e, t) {
        var n = e.documentElement,
          i = 'orientationchange' in window ? 'orientationchange' : 'resize',
          d =
            (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream,
            function () {
              var t = n.clientWidth;
              t &&
                (t >= 750
                  ? ((t = 750), (e.body.style.width = '750px'))
                  : (e.body.style.width = t + 'px'),
                (n.style.fontSize = 100 * (t / 750) + 'px'),
                (n.dataset.width = t),
                (n.dataset.percent = 100 * (t / 750)));
            });
        d(),
          e.documentElement.classList.add('iosx' + t.devicePixelRatio),
          e.addEventListener && t.addEventListener(i, d, !1);
      })(document, window);
    </script>
    <!--content-->
    <div id="app" data-own="1"></div>
    <!-- <script src="https://cdn.bootcdn.net/ajax/libs/vConsole/3.15.1/vconsole.min.js"></script> -->
    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker
          .getRegistrations()
          .then(function (registrations) {
            for (let registration of registrations) {
              registration.unregister();
            }
          })
          .catch(function (err) {});
      }

      function loadJs(url) {
        var head = document.getElementsByTagName('head')[0];
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = url;
        head.appendChild(script);
      }

      // 测试环境加载vconsole
      if (window.location.origin.indexOf('//test-yaame.yaame.net') > 0) {
        loadJs('https://unpkg.com/vconsole@latest/dist/vconsole.min.js');

        setTimeout(() => {
            var vConsole = new VConsole();
        },4000)
        // window.onload = function () {
        //   var vConsole = new VConsole();
        // };
      }
    //   window.onload = function () {
    //       var vConsole = new VConsole();
    //     };
    </script>
  </body>
</html>
